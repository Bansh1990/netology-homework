# Домашнее задание к занятию "5.3. Контейнеризация на примере Docker"

## Задача 1 

Посмотрите на сценарий ниже и ответьте на вопрос:
"Подходит ли в этом сценарии использование докера? Или лучше подойдет виртуальная машина, физическая машина? Или возможны разные варианты?"

Детально опишите и обоснуйте свой выбор.

--

Сценарий:

- Высоконагруженное монолитное java веб-приложение; 
- Go-микросервис для генерации отчетов;
- Nodejs веб-приложение;
- Мобильное приложение c версиями для Android и iOS;
- База данных postgresql используемая, как кэш;
- Шина данных на базе Apache Kafka;
- Очередь для Logstash на базе Redis;
- Elastic stack для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;
- Мониторинг-стек на базе prometheus и grafana;
- Mongodb, как основное хранилище данных для java-приложения;
- Jenkins-сервер.

## Ответ:
- Высоконагруженное монолитное java веб-приложение; 
    
   _лучше подойдет виртуальная машина или физ. сервер потому что докер больших тяжелых приложениях приемуществ не дает. джава и так мулиплатформенный язык, он не требователен к переменному окружению._
- Go-микросервис для генерации отчетов;
   
   _возможны разные варианты. хотя скорее всего для удобства распространения и использования лучше подойдет полностью собраный докер контейнер который сгенерирует отчет, завершится и не оставит никаких следов в системе._
- Nodejs веб-приложение;

   _для этого подойдет лучше докер, в котором соберут необходимое переменное окружение, что позволит без проблем переносить заведомо рабочую версию, при этом не заморачиваться с переменным окружением_
- Мобильное приложение c версиями для Android и iOS;

   _мобильное приложение запустится только в виртуальной машине, других вариантов нет._
- База данных postgresql используемая, как кэш;

  _если бд используется как кэш, то скорее всего необходим высокий IO, для этого лучше подойдет физическая машина_
- Шина данных на базе Apache Kafka;

   _виртуальная машина или физическая машина. по той же причине._
- Очередь для Logstash на базе Redis;

    _виртуальная машина или физическая машина. по той же причине._ 
- Elastic stack для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;
- Мониторинг-стек на базе prometheus и grafana;

  _однозначно докер - отличный вариант. быстрая развертка, без необходимости ставить софт в основную систему. удобно_
- Mongodb, как основное хранилище данных для java-приложения;

  _все зависит от нагрузки. технически можно развернуть в докере, но если нагружено то можно на виртуалке или на физической машине_
- Jenkins-сервер.

  _докер отличный вариант_


## Задача 2 

Сценарий выполения задачи:

- создайте свой репозиторий на докерхаб; 
- выберете любой образ, который содержит апачи веб-сервер;
- создайте свой форк образа;
- реализуйте функциональность: 
запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже: 
```
<html>
<head>
Hey, Netology
</head>
<body>
<h1>I’m kinda DevOps now</h1>
</body>
</html>
```
Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на докерхаб-репо.
## Ответ:
https://hub.docker.com/r/bansh/hey-netology

## Задача 3 

- Запустите первый контейнер из образа centos c любым тэгом в фоновом режиме, подключив папку info из текущей рабочей директории на хостовой машине в /share/info контейнера;
- Запустите второй контейнер из образа debian:latest в фоновом режиме, подключив папку info из текущей рабочей директории на хостовой машине в /info контейнера;
- Подключитесь к первому контейнеру с помощью exec и создайте текстовый файл любого содержания в /share/info ;
- Добавьте еще один файл в папку info на хостовой машине;
- Подключитесь во второй контейнер и отобразите листинг и содержание файлов в /info контейнера.

## Ответ:
```shell
   mkdir ./info 
   docker run -dti -v $PWD/info:/share/info --name centos-1 centos:latest
   docker run -dti -v $PWD/info:/info --name debian-1 debian:latest
   docker exec centos-1 touch /share/info/centos-file
   touch ./info/host-file
   docker exec  debian-1 ls /info
```
---

### Как cдавать задание

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---